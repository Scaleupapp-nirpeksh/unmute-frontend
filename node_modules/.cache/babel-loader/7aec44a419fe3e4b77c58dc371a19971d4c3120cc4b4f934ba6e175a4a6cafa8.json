{"ast":null,"code":"var _jsxFileName = \"/Users/nirpekshnandan/unmute-frontend/src/pages/Auth/Signup.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Button, TextField, Typography, Box, Alert, CircularProgress } from '@mui/material';\nimport { AuthLayout } from '../../components/Auth/AuthLayout';\nimport { authStyles } from './authStyles';\nimport OTPInput from '../../components/Auth/OTPInput';\nimport { authService } from '../../services/auth';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Signup() {\n  _s();\n  const classes = authStyles();\n  const navigate = useNavigate();\n  const {\n    login\n  } = useAuth();\n  const [step, setStep] = useState(1);\n  const [phone, setPhone] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [resendDisabled, setResendDisabled] = useState(false);\n\n  // Profile details fields for new users\n  const [username, setUsername] = useState('');\n  const [bio, setBio] = useState('');\n  const [interests, setInterests] = useState('');\n  const [likes, setLikes] = useState('');\n  const [dislikes, setDislikes] = useState('');\n  const [preferences, setPreferences] = useState('');\n  const handleSendOTP = async () => {\n    console.log(\"Signup: handleSendOTP called with phone:\", phone);\n    try {\n      setLoading(true);\n      setError('');\n      await authService.requestOTP(phone);\n      setStep(2);\n      startResendCooldown();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Failed to send OTP');\n      console.error(\"Signup: Error in handleSendOTP\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleVerifyOTP = async enteredOtp => {\n    try {\n      setLoading(true);\n      setError('');\n      const {\n        data\n      } = await authService.verifyOTP(phone, enteredOtp);\n\n      // Save token and user data regardless\n      login(data.token, data.user);\n\n      // If backend indicates a new user, prompt for profile completion\n      if (data.isNewUser) {\n        setStep(3);\n      } else {\n        navigate('/');\n      }\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Invalid OTP');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleResendOTP = async () => {\n    try {\n      setResendDisabled(true);\n      await authService.requestOTP(phone);\n      startResendCooldown();\n    } catch (err) {\n      setError('Failed to resend OTP');\n    }\n  };\n  const startResendCooldown = () => {\n    setResendDisabled(true);\n    setTimeout(() => setResendDisabled(false), 30000); // 30-second cooldown\n  };\n  const handleProfileSubmit = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      // If the user entered a username, update it first\n      if (username && username.trim() !== \"\") {\n        await authService.changeUsername(username);\n      }\n      // Prepare other profile details\n      const details = {\n        bio,\n        interests,\n        // e.g., comma-separated values\n        likes,\n        // e.g., comma-separated values\n        dislikes,\n        // e.g., comma-separated values\n        preferences // e.g., comma-separated values\n      };\n      const {\n        data\n      } = await authService.updateUserDetails(details);\n      // Update auth context with latest token/user (if returned)\n      login(data.token, data.user);\n      navigate('/');\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || 'Profile update failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(AuthLayout, {\n    title: step === 1 ? \"Get Started\" : step === 2 ? \"Verify OTP\" : \"Complete Your Profile (Optional)\",\n    children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }, this), step === 1 && /*#__PURE__*/_jsxDEV(Box, {\n      component: \"form\",\n      sx: classes.form,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Phone Number\",\n        variant: \"outlined\",\n        value: phone,\n        onChange: e => setPhone(e.target.value.replace(/[^0-9+]/g, '')),\n        sx: classes.input,\n        placeholder: \"+1234567890\",\n        disabled: loading,\n        inputProps: {\n          maxLength: 15\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        fullWidth: true,\n        variant: \"contained\",\n        size: \"large\",\n        onClick: handleSendOTP,\n        disabled: loading || !phone,\n        sx: classes.button,\n        children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 24\n        }, this) : 'Send OTP'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }, this), step === 2 && /*#__PURE__*/_jsxDEV(Box, {\n      sx: classes.form,\n      children: [/*#__PURE__*/_jsxDEV(OTPInput, {\n        length: 6,\n        onComplete: handleVerifyOTP,\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 2,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          gap: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          children: \"Didn't receive code?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          size: \"small\",\n          onClick: handleResendOTP,\n          disabled: resendDisabled || loading,\n          children: [\"Resend \", resendDisabled && '(30s)']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }, this), step === 3 && /*#__PURE__*/_jsxDEV(Box, {\n      component: \"form\",\n      sx: classes.form,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        sx: {\n          mb: 2\n        },\n        children: \"Complete Your Profile (Optional)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Username\",\n        variant: \"outlined\",\n        value: username,\n        onChange: e => setUsername(e.target.value.replace(/[^a-zA-Z0-9_]/g, '')),\n        sx: classes.input,\n        placeholder: \"Choose a username\",\n        disabled: loading,\n        inputProps: {\n          maxLength: 20\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Bio\",\n        variant: \"outlined\",\n        value: bio,\n        onChange: e => setBio(e.target.value),\n        sx: classes.input,\n        placeholder: \"Tell us about yourself\",\n        disabled: loading,\n        multiline: true,\n        rows: 3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Interests\",\n        variant: \"outlined\",\n        value: interests,\n        onChange: e => setInterests(e.target.value),\n        sx: classes.input,\n        placeholder: \"e.g., sports, music, tech\",\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Likes\",\n        variant: \"outlined\",\n        value: likes,\n        onChange: e => setLikes(e.target.value),\n        sx: classes.input,\n        placeholder: \"What do you like?\",\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Dislikes\",\n        variant: \"outlined\",\n        value: dislikes,\n        onChange: e => setDislikes(e.target.value),\n        sx: classes.input,\n        placeholder: \"What do you dislike?\",\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Preferences\",\n        variant: \"outlined\",\n        value: preferences,\n        onChange: e => setPreferences(e.target.value),\n        sx: classes.input,\n        placeholder: \"Your preferences (e.g., communication style)\",\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        fullWidth: true,\n        variant: \"contained\",\n        size: \"large\",\n        onClick: handleProfileSubmit,\n        disabled: loading,\n        sx: classes.button,\n        children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 24\n        }, this) : 'Complete Profile'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        fullWidth: true,\n        variant: \"outlined\",\n        size: \"small\",\n        onClick: () => navigate('/'),\n        sx: {\n          mt: 2\n        },\n        disabled: loading,\n        children: \"Skip\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n}\n_s(Signup, \"TascvVPT0NJNe0ZuRMJx97vqlIM=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["useState","useNavigate","Button","TextField","Typography","Box","Alert","CircularProgress","AuthLayout","authStyles","OTPInput","authService","useAuth","jsxDEV","_jsxDEV","Signup","_s","classes","navigate","login","step","setStep","phone","setPhone","loading","setLoading","error","setError","resendDisabled","setResendDisabled","username","setUsername","bio","setBio","interests","setInterests","likes","setLikes","dislikes","setDislikes","preferences","setPreferences","handleSendOTP","console","log","requestOTP","startResendCooldown","err","_err$response","_err$response$data","response","data","message","handleVerifyOTP","enteredOtp","verifyOTP","token","user","isNewUser","_err$response2","_err$response2$data","handleResendOTP","setTimeout","handleProfileSubmit","trim","changeUsername","details","updateUserDetails","_err$response3","_err$response3$data","title","children","severity","sx","mb","fileName","_jsxFileName","lineNumber","columnNumber","component","form","fullWidth","label","variant","value","onChange","e","target","replace","input","placeholder","disabled","inputProps","maxLength","size","onClick","button","length","onComplete","mt","display","alignItems","justifyContent","gap","multiline","rows","_c","$RefreshReg$"],"sources":["/Users/nirpekshnandan/unmute-frontend/src/pages/Auth/Signup.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { \n  Button, \n  TextField, \n  Typography, \n  Box, \n  Alert,\n  CircularProgress\n} from '@mui/material';\nimport { AuthLayout } from '../../components/Auth/AuthLayout';\nimport { authStyles } from './authStyles';\nimport OTPInput from '../../components/Auth/OTPInput';\nimport { authService } from '../../services/auth';\nimport { useAuth } from '../../contexts/AuthContext';\n\nexport default function Signup() {\n  const classes = authStyles();\n  const navigate = useNavigate();\n  const { login } = useAuth();\n  const [step, setStep] = useState(1);\n  const [phone, setPhone] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [resendDisabled, setResendDisabled] = useState(false);\n\n  // Profile details fields for new users\n  const [username, setUsername] = useState('');\n  const [bio, setBio] = useState('');\n  const [interests, setInterests] = useState('');\n  const [likes, setLikes] = useState('');\n  const [dislikes, setDislikes] = useState('');\n  const [preferences, setPreferences] = useState('');\n\n  const handleSendOTP = async () => {\n    console.log(\"Signup: handleSendOTP called with phone:\", phone);\n    try {\n      setLoading(true);\n      setError('');\n      await authService.requestOTP(phone);\n      setStep(2);\n      startResendCooldown();\n    } catch (err) {\n      setError(err.response?.data?.message || 'Failed to send OTP');\n      console.error(\"Signup: Error in handleSendOTP\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleVerifyOTP = async (enteredOtp) => {\n    try {\n      setLoading(true);\n      setError('');\n      const { data } = await authService.verifyOTP(phone, enteredOtp);\n      \n      // Save token and user data regardless\n      login(data.token, data.user);\n      \n      // If backend indicates a new user, prompt for profile completion\n      if (data.isNewUser) {\n        setStep(3);\n      } else {\n        navigate('/');\n      }\n    } catch (err) {\n      setError(err.response?.data?.message || 'Invalid OTP');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleResendOTP = async () => {\n    try {\n      setResendDisabled(true);\n      await authService.requestOTP(phone);\n      startResendCooldown();\n    } catch (err) {\n      setError('Failed to resend OTP');\n    }\n  };\n\n  const startResendCooldown = () => {\n    setResendDisabled(true);\n    setTimeout(() => setResendDisabled(false), 30000); // 30-second cooldown\n  };\n\n  const handleProfileSubmit = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      // If the user entered a username, update it first\n      if (username && username.trim() !== \"\") {\n        await authService.changeUsername(username);\n      }\n      // Prepare other profile details\n      const details = {\n        bio,\n        interests,    // e.g., comma-separated values\n        likes,        // e.g., comma-separated values\n        dislikes,     // e.g., comma-separated values\n        preferences   // e.g., comma-separated values\n      };\n      const { data } = await authService.updateUserDetails(details);\n      // Update auth context with latest token/user (if returned)\n      login(data.token, data.user);\n      navigate('/');\n    } catch (err) {\n      setError(err.response?.data?.message || 'Profile update failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <AuthLayout title={\n      step === 1 ? \"Get Started\" : \n      step === 2 ? \"Verify OTP\" : \n      \"Complete Your Profile (Optional)\"\n    }>\n      {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\n\n      {step === 1 && (\n        <Box component=\"form\" sx={classes.form}>\n          <TextField\n            fullWidth\n            label=\"Phone Number\"\n            variant=\"outlined\"\n            value={phone}\n            onChange={(e) => setPhone(e.target.value.replace(/[^0-9+]/g, ''))}\n            sx={classes.input}\n            placeholder=\"+1234567890\"\n            disabled={loading}\n            inputProps={{ maxLength: 15 }}\n          />\n          <Button\n            fullWidth\n            variant=\"contained\"\n            size=\"large\"\n            onClick={handleSendOTP}\n            disabled={loading || !phone}\n            sx={classes.button}\n          >\n            {loading ? <CircularProgress size={24} /> : 'Send OTP'}\n          </Button>\n        </Box>\n      )}\n\n      {step === 2 && (\n        <Box sx={classes.form}>\n          <OTPInput \n            length={6} \n            onComplete={handleVerifyOTP}\n            disabled={loading}\n          />\n          <Box sx={{ \n            mt: 2, \n            display: 'flex', \n            alignItems: 'center', \n            justifyContent: 'center',\n            gap: 1\n          }}>\n            <Typography variant=\"body2\">\n              Didn't receive code?\n            </Typography>\n            <Button \n              size=\"small\" \n              onClick={handleResendOTP}\n              disabled={resendDisabled || loading}\n            >\n              Resend {resendDisabled && '(30s)'}\n            </Button>\n          </Box>\n        </Box>\n      )}\n\n      {step === 3 && (\n        <Box component=\"form\" sx={classes.form}>\n          <Typography variant=\"h6\" sx={{ mb: 2 }}>Complete Your Profile (Optional)</Typography>\n          {/* Allow user to update their username */}\n          <TextField\n            fullWidth\n            label=\"Username\"\n            variant=\"outlined\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value.replace(/[^a-zA-Z0-9_]/g, ''))}\n            sx={classes.input}\n            placeholder=\"Choose a username\"\n            disabled={loading}\n            inputProps={{ maxLength: 20 }}\n          />\n          <TextField\n            fullWidth\n            label=\"Bio\"\n            variant=\"outlined\"\n            value={bio}\n            onChange={(e) => setBio(e.target.value)}\n            sx={classes.input}\n            placeholder=\"Tell us about yourself\"\n            disabled={loading}\n            multiline\n            rows={3}\n          />\n          <TextField\n            fullWidth\n            label=\"Interests\"\n            variant=\"outlined\"\n            value={interests}\n            onChange={(e) => setInterests(e.target.value)}\n            sx={classes.input}\n            placeholder=\"e.g., sports, music, tech\"\n            disabled={loading}\n          />\n          <TextField\n            fullWidth\n            label=\"Likes\"\n            variant=\"outlined\"\n            value={likes}\n            onChange={(e) => setLikes(e.target.value)}\n            sx={classes.input}\n            placeholder=\"What do you like?\"\n            disabled={loading}\n          />\n          <TextField\n            fullWidth\n            label=\"Dislikes\"\n            variant=\"outlined\"\n            value={dislikes}\n            onChange={(e) => setDislikes(e.target.value)}\n            sx={classes.input}\n            placeholder=\"What do you dislike?\"\n            disabled={loading}\n          />\n          <TextField\n            fullWidth\n            label=\"Preferences\"\n            variant=\"outlined\"\n            value={preferences}\n            onChange={(e) => setPreferences(e.target.value)}\n            sx={classes.input}\n            placeholder=\"Your preferences (e.g., communication style)\"\n            disabled={loading}\n          />\n          <Button\n            fullWidth\n            variant=\"contained\"\n            size=\"large\"\n            onClick={handleProfileSubmit}\n            disabled={loading}\n            sx={classes.button}\n          >\n            {loading ? <CircularProgress size={24} /> : 'Complete Profile'}\n          </Button>\n          <Button\n            fullWidth\n            variant=\"outlined\"\n            size=\"small\"\n            onClick={() => navigate('/')}\n            sx={{ mt: 2 }}\n            disabled={loading}\n          >\n            Skip\n          </Button>\n        </Box>\n      )}\n    </AuthLayout>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}