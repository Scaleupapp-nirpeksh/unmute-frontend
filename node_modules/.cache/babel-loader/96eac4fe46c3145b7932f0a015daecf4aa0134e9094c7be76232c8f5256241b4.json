{"ast":null,"code":"// src/pages/Vent/SearchVents.jsx\nimport React,{useState}from'react';import{Box,Card,CardContent,Typography,TextField,Button,CircularProgress,Alert,Grid,Grow}from'@mui/material';import{useNavigate}from'react-router-dom';import{ventService}from'../../services/vent';import SearchIcon from'@mui/icons-material/Search';import{InputAdornment,IconButton}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchVents(){const navigate=useNavigate();const[query,setQuery]=useState('');const[vents,setVents]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const handleSearch=async()=>{if(!query.trim()){setError('Please enter a search query.');return;}setLoading(true);setError('');try{const res=await ventService.searchVents({query});if(res.data&&res.data.vents){setVents(res.data.vents);}}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Search failed');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(Box,{sx:{p:2,minHeight:'100vh',background:'linear-gradient(135deg, #80DEEA, #CE93D8)',display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsxs(Box,{sx:{maxWidth:600,width:'100%',mb:3},children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,variant:\"outlined\",placeholder:\"Search vents...\",value:query,onChange:e=>setQuery(e.target.value),InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{onClick:handleSearch,children:/*#__PURE__*/_jsx(SearchIcon,{})})})}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleSearch,sx:{mt:2,backgroundColor:'#4a90e2'},children:\"Search\"})]}),loading?/*#__PURE__*/_jsx(CircularProgress,{}):error?/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{width:'100%',maxWidth:600},children:error}):/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,sx:{maxWidth:900},children:vents.map(vent=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Grow,{in:true,timeout:600,children:/*#__PURE__*/_jsx(Card,{sx:{borderRadius:'16px',p:2,cursor:'pointer'},onClick:()=>navigate(`/vent/${vent._id}`),children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",sx:{fontWeight:600,mb:1},children:vent.title}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{mb:1},children:vent.text}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"textSecondary\",children:new Date(vent.createdAt).toLocaleString()})]})})})},vent._id))})]});}","map":{"version":3,"names":["React","useState","Box","Card","CardContent","Typography","TextField","Button","CircularProgress","Alert","Grid","Grow","useNavigate","ventService","SearchIcon","InputAdornment","IconButton","jsx","_jsx","jsxs","_jsxs","SearchVents","navigate","query","setQuery","vents","setVents","loading","setLoading","error","setError","handleSearch","trim","res","searchVents","data","err","_err$response","_err$response$data","response","message","sx","p","minHeight","background","display","flexDirection","alignItems","children","maxWidth","width","mb","fullWidth","variant","placeholder","value","onChange","e","target","InputProps","endAdornment","position","onClick","mt","backgroundColor","severity","container","spacing","map","vent","item","xs","in","timeout","borderRadius","cursor","_id","fontWeight","title","text","color","Date","createdAt","toLocaleString"],"sources":["/Users/nirpekshnandan/unmute-frontend/src/pages/Vent/SearchVents.jsx"],"sourcesContent":["// src/pages/Vent/SearchVents.jsx\nimport React, { useState } from 'react';\nimport { Box, Card, CardContent, Typography, TextField, Button, CircularProgress, Alert, Grid, Grow } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { ventService } from '../../services/vent';\nimport SearchIcon from '@mui/icons-material/Search';\nimport { InputAdornment, IconButton } from '@mui/material';\n\nexport default function SearchVents() {\n  const navigate = useNavigate();\n  const [query, setQuery] = useState('');\n  const [vents, setVents] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleSearch = async () => {\n    if (!query.trim()) {\n      setError('Please enter a search query.');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      const res = await ventService.searchVents({ query });\n      if (res.data && res.data.vents) {\n        setVents(res.data.vents);\n      }\n    } catch (err) {\n      setError(err.response?.data?.message || 'Search failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Box\n      sx={{\n        p: 2,\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #80DEEA, #CE93D8)',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n      }}\n    >\n      <Box sx={{ maxWidth: 600, width: '100%', mb: 3 }}>\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          placeholder=\"Search vents...\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <IconButton onClick={handleSearch}>\n                  <SearchIcon />\n                </IconButton>\n              </InputAdornment>\n            ),\n          }}\n        />\n        <Button variant=\"contained\" onClick={handleSearch} sx={{ mt: 2, backgroundColor: '#4a90e2' }}>\n          Search\n        </Button>\n      </Box>\n      {loading ? (\n        <CircularProgress />\n      ) : error ? (\n        <Alert severity=\"error\" sx={{ width: '100%', maxWidth: 600 }}>\n          {error}\n        </Alert>\n      ) : (\n        <Grid container spacing={2} sx={{ maxWidth: 900 }}>\n          {vents.map((vent) => (\n            <Grid item xs={12} key={vent._id}>\n              <Grow in timeout={600}>\n                <Card\n                  sx={{ borderRadius: '16px', p: 2, cursor: 'pointer' }}\n                  onClick={() => navigate(`/vent/${vent._id}`)}\n                >\n                  <CardContent>\n                    <Typography variant=\"h5\" sx={{ fontWeight: 600, mb: 1 }}>\n                      {vent.title}\n                    </Typography>\n                    <Typography variant=\"body1\" sx={{ mb: 1 }}>\n                      {vent.text}\n                    </Typography>\n                    <Typography variant=\"caption\" color=\"textSecondary\">\n                      {new Date(vent.createdAt).toLocaleString()}\n                    </Typography>\n                  </CardContent>\n                </Card>\n              </Grow>\n            </Grid>\n          ))}\n        </Grid>\n      )}\n    </Box>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}